version: "3.9"
services:
  themelio-node:
    image: ghcr.io/themeliolabs/themelio-node-mainnet:latest
    network_mode: "host"
    ports:
      - 11814:11814
      - 8080:8080
    hostname: ${HOSTNAME}
    environment:
      - NETWORK=mainnet
    volumes:
      - themelio-node-mainnet:/var/lib/themelio-node/

  promtail:
    image: ghcr.io/themeliolabs/promtail:latest
    ports:
      - 9080:9080
    volumes:
      - /var/lib/docker/containers:/var/lib/docker/containers
      - /home/admin/compose/promtail.toml:/hab/user/promtail/config/user.toml

volumes:
  themelio-node-mainnet:
    name: themelio-node-mainnet